<div class="container mt-4">
  <h4 class="mb-3">Detail Pengajuan Pinjaman</h4>

  <!-- Loading Indicator -->
  <app-loading *ngIf="isLoading" message="Memuat detail pengajuan..."></app-loading>

  <!-- Error Message -->
  <div *ngIf="isError" class="alert alert-danger">
    <strong>Error!</strong> Gagal memuat detail pengajuan pinjaman.
  </div>

  <!-- Loan Request Details -->
  <div *ngIf="!isLoading && loanRequest" class="card">
    <div class="card-body">
      <h5 class="card-title">Informasi Pengajuan Pinjaman</h5>

      <p><strong>Customer:</strong> {{ loanRequest.customerName }}</p>
      <p><strong>Jumlah Pinjaman:</strong> {{ loanRequest.amount | currency:'IDR':'symbol':'1.0-0' }}</p>
      <p><strong>Tenor:</strong> {{ loanRequest.tenor }} bulan</p>
      <p><strong>Status:</strong> {{ loanRequest.status }}</p>
      <p><strong>Tanggal Pengajuan:</strong> {{ loanRequest.requestDate | date:'dd/MM/yyyy HH:mm' }}</p>

      <!-- Additional Fields -->
      <!-- <p><strong>Branch Name:</strong> {{ loanRequest.branchName }}</p>
      <p><strong>Marketing:</strong> {{ loanRequest.marketingName }} ({{ loanRequest.marketingEmail }})</p> -->
      <!-- Notes input -->
      <div class="mb-3">
        <label for="notes" class="form-label">Catatan Pencairan</label>
        <textarea id="notes" class="form-control" [(ngModel)]="notes" rows="3"
          placeholder="Masukkan catatan (opsional)"></textarea>
      </div>

      <!-- Actions -->
      <div class="d-flex justify-content-end">
        <button class="btn btn-success me-2" (click)="disburse()">Cairkan Dana</button>
        <button class="btn btn-secondary" (click)="goBack()">Kembali</button>
      </div>

    </div>
  </div>
</div>